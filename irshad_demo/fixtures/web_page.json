[
 {
  "breadcrumbs": null,
  "content_type": "HTML",
  "context_script": null,
  "css": null,
  "docstatus": 0,
  "doctype": "Web Page",
  "dynamic_route": 0,
  "dynamic_template": 0,
  "enable_comments": 0,
  "end_date": null,
  "full_width": 1,
  "header": null,
  "insert_style": 0,
  "javascript": "// This is used to avoid csrf token error\nfrappe.csrf_token = document.getElementById('csrf_token').value;\n$.ajaxSetup({ headers: { 'X-Frappe-CSRF-Token': frappe.csrf_token } }); \n\nloadEmployees()\n\nfunction loadEmployees(){\n    frappe.call({\n        method: \"irshad_demo.api.get_employees\",\n        callback: function(res){\n            console.log(\"Data from backend:\", res.message);\n            employeeList(res.message)\n        }\n    })\n}\n\nfunction employeeList(employees){\n    const list = document.getElementById(\"employeeList\")\n    list.innerHTML = \"\";\n    \n    (employees || []).forEach(employee => {\n        list.innerHTML += `\n        <li>Full Name :${employee.employee_name} </li>\n        <li>Age :${employee.age} </li>\n        <li>Country :${employee.country} </li>\n        <hr>\n        `\n    }) \n}\n\ndocument.getElementById(\"employeeForm\").addEventListener(\"submit\",function(e){\n    e.preventDefault();\n    \n    const full_name = document.getElementById(\"full_name\").value;\n    const age = document.getElementById(\"age\").value;\n    const country = document.getElementById(\"country\").value;\n    \n    frappe.call({\n        method: \"irshad_demo.api.add_employee\",\n        args: {\n            full_name: full_name,\n            age: age,\n            country: country\n        },\n        callback: function(res){\n            alert(\"Student Added Successfully\");\n            loadEmployees()\n        }\n    })\n})",
  "main_section": null,
  "main_section_html": "<input type=\"hidden\" id=\"csrf_token\" value=\"{{ frappe.session.csrf_token }}\">\n\n<style>\n    .container{\n        width: 100%;\n        height: 100%;\n        background: white;\n        color: black;\n    }\n</style>\n<div class='container'>\n    <div class=\"main\">\n        <h2> Employee Form</h2>\n        <form id=\"employeeForm\">\n            <input type=\"text\" id=\"full_name\" placeholder=\"Enter Full Name\" required><br>\n            <input type=\"text\" id=\"country\" placeholder=\"Enter Country Name\" required><br>\n            <input type=\"number\" id=\"age\" placeholder=\"Enter Age\" required><br>\n            <button type='submit'>Submit</button>\n        </form>\n        <hr>\n        <h3>Submitted Emplyees</h3>\n        <ul id=\"employeeList\"></ul>\n    </div>\n</div>",
  "main_section_md": null,
  "meta_description": null,
  "meta_image": null,
  "meta_title": null,
  "modified": "2026-02-23 11:49:04.899353",
  "module": "irshad_demo",
  "name": "employee-form",
  "page_blocks": [],
  "published": 1,
  "route": "add-employee",
  "show_sidebar": 0,
  "show_title": 0,
  "slideshow": null,
  "start_date": null,
  "text_align": "Left",
  "title": "Employee Form",
  "website_sidebar": null
 },
 {
  "breadcrumbs": null,
  "content_type": "HTML",
  "context_script": null,
  "css": null,
  "docstatus": 0,
  "doctype": "Web Page",
  "dynamic_route": 0,
  "dynamic_template": 0,
  "enable_comments": 0,
  "end_date": null,
  "full_width": 1,
  "header": null,
  "insert_style": 0,
  "javascript": null,
  "main_section": null,
  "main_section_html": "<div style=\"max-width: 1100px; margin: 80px auto; font-family: -apple-system, BlinkMacSystemFont, Segoe UI;\">\n\n  <h1 style=\"font-size: 36px; margin-bottom: 10px;\">\n    Welcome to Irshad Pvt Ltd\n  </h1>\n\n  <p style=\"font-size: 18px; color: #6b7280; margin-bottom: 40px;\">\n    We provide reliable services and customer support.\n  </p>\n\n  <a href=\"/issue-ticket\"\n     style=\"\n       background:#2563eb;\n       color:#fff;\n       padding:14px 26px;\n       border-radius:8px;\n       text-decoration:none;\n       font-size:16px;\n       font-weight:500;\n     \">\n     ðŸŽ« Raise Issue Ticket\n  </a>\n\n</div>\n",
  "main_section_md": null,
  "meta_description": null,
  "meta_image": null,
  "meta_title": null,
  "modified": "2026-02-09 12:41:43.938381",
  "module": "irshad_demo",
  "name": "irshad-pvt-ltd",
  "page_blocks": [],
  "published": 1,
  "route": "homepage",
  "show_sidebar": 0,
  "show_title": 0,
  "slideshow": null,
  "start_date": null,
  "text_align": "Left",
  "title": "Irshad Pvt Ltd",
  "website_sidebar": null
 },
 {
  "breadcrumbs": "[{\"label\": \"About-us\", \"route\": \"about\"}]",
  "content_type": "HTML",
  "context_script": null,
  "css": null,
  "docstatus": 0,
  "doctype": "Web Page",
  "dynamic_route": 0,
  "dynamic_template": 0,
  "enable_comments": 1,
  "end_date": null,
  "full_width": 1,
  "header": null,
  "insert_style": 0,
  "javascript": null,
  "main_section": null,
  "main_section_html": "<div style=\"text-align:center; padding:40px;\">\n    <h1>Welcome to Irshad ERP Portal</h1>\n    <p>Your Smart Business Management System</p>\n</div>\n\n<div style=\"display:flex; justify-content:center; gap:30px; margin-top:40px;\">\n\n    <div style=\"border:1px solid #ddd; padding:20px; width:200px; text-align:center;\">\n        <h3>Sales</h3>\n        <p>Create Sales Order</p>\n        <a href=\"/app/sales-order\">Go</a>\n    </div>\n\n    <div style=\"border:1px solid #ddd; padding:20px; width:200px; text-align:center;\">\n        <h3>Purchase</h3>\n        <p>Create Purchase Order</p>\n        <a href=\"/app/purchase-order\">Go</a>\n    </div>\n\n    <div style=\"border:1px solid #ddd; padding:20px; width:200px; text-align:center;\">\n        <h3>Support</h3>\n        <p>Raise an Issue</p>\n        <a href=\"/app/issue\">Go</a>\n    </div>\n\n</div>\n\n<div style=\"text-align:center; margin-top:50px;\">\n    <p>Â© 2026 Irshad Pvt Ltd</p>\n</div>\n",
  "main_section_md": null,
  "meta_description": "Irshad Pvt Ltd. ERP Next Portal",
  "meta_image": null,
  "meta_title": "Irshad Portal",
  "modified": "2026-02-15 13:35:04.506756",
  "module": "irshad_demo",
  "name": "my-portal",
  "page_blocks": [],
  "published": 1,
  "route": "my-portal",
  "show_sidebar": 1,
  "show_title": 1,
  "slideshow": null,
  "start_date": null,
  "text_align": "Left",
  "title": "My Portal",
  "website_sidebar": "Portal Sidebar"
 },
 {
  "breadcrumbs": null,
  "content_type": "Rich Text",
  "context_script": null,
  "css": null,
  "docstatus": 0,
  "doctype": "Web Page",
  "dynamic_route": 0,
  "dynamic_template": 0,
  "enable_comments": 0,
  "end_date": null,
  "full_width": 1,
  "header": null,
  "insert_style": 0,
  "javascript": null,
  "main_section": "<div class=\"ql-editor read-mode\"><p style=\"text-align: justify;\"><img src=\"/files/xUTzUOd.png\"></p><p style=\"text-align: justify;\"><br></p><h1 style=\"text-align: center;\"><strong>Irshad Pvt Ltd Portal </strong></h1><p style=\"text-align: justify;\"> &nbsp;<strong style=\"background-color: rgb(255, 255, 255); font-size: 14px; color: rgb(0, 0, 0);\">Lorem Ipsum</strong><span style=\"background-color: rgb(255, 255, 255); font-size: 14px; color: rgb(0, 0, 0);\"> is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.</span></p><h2><span style=\"background-color: rgb(255, 255, 255); color: rgb(0, 0, 0); font-size: 24px;\">Why do we use it?</span></h2><p style=\"text-align: justify;\"><span style=\"background-color: rgb(255, 255, 255); font-size: 14px; color: rgb(0, 0, 0);\">It is a long established fact that a reader will be distracted by the readable content of a page when looking at its layout. The point of using Lorem Ipsum is that it has a more-or-less normal distribution of letters, as opposed to using 'Content here, content here', making it look like readable English. Many desktop publishing packages and web page editors now use Lorem Ipsum as their default model text, and a search for 'lorem ipsum' will uncover many web sites still in their infancy. Various versions have evolved over the years, sometimes by accident, sometimes on purpose (injected humour and the like).</span></p><p><span style=\"background-color: rgb(255, 255, 255); font-size: 14px; color: rgb(0, 0, 0);\"><br></span></p><h2><span style=\"background-color: rgb(255, 255, 255); color: rgb(0, 0, 0); font-size: 24px;\">Where does it come from?</span></h2><p style=\"text-align: justify;\"><span style=\"background-color: rgb(255, 255, 255); font-size: 14px; color: rgb(0, 0, 0);\">Contrary to popular belief, Lorem Ipsum is not simply random text. It has roots in a piece of classical Latin literature from 45 BC, making it over 2000 years old. Richard McClintock, a Latin professor at Hampden-Sydney College in Virginia, looked up one of the more obscure Latin words, consectetur, from a Lorem Ipsum passage, and going through the cites of the word in classical literature, discovered the undoubtable source. Lorem Ipsum comes from sections 1.10.32 and 1.10.33 of \"de Finibus Bonorum et Malorum\" (The Extremes of Good and Evil) by Cicero, written in 45 BC. This book is a treatise on the theory of ethics, very popular during the Renaissance. The first line of Lorem Ipsum, \"Lorem ipsum dolor sit amet..\", comes from a line in section 1.10.32.</span></p><p style=\"text-align: justify;\"><span style=\"background-color: rgb(255, 255, 255); font-size: 14px; color: rgb(0, 0, 0);\">The standard chunk of Lorem Ipsum used since the 1500s is reproduced below for those interested. Sections 1.10.32 and 1.10.33 from \"de Finibus Bonorum et Malorum\" by Cicero are also reproduced in their exact original form, accompanied by English versions from the 1914 translation by H. Rackham.</span></p><p><br></p></div>",
  "main_section_html": null,
  "main_section_md": null,
  "meta_description": null,
  "meta_image": null,
  "meta_title": null,
  "modified": "2026-02-15 13:55:53.857482",
  "module": "irshad_demo",
  "name": "demo-rich-text",
  "page_blocks": [],
  "published": 1,
  "route": "rich-text",
  "show_sidebar": 0,
  "show_title": 0,
  "slideshow": null,
  "start_date": null,
  "text_align": "Left",
  "title": "Demo Rich text",
  "website_sidebar": null
 },
 {
  "breadcrumbs": null,
  "content_type": "Page Builder",
  "context_script": null,
  "css": null,
  "docstatus": 0,
  "doctype": "Web Page",
  "dynamic_route": 0,
  "dynamic_template": 0,
  "enable_comments": 0,
  "end_date": null,
  "full_width": 1,
  "header": null,
  "insert_style": 0,
  "javascript": null,
  "main_section": null,
  "main_section_html": null,
  "main_section_md": null,
  "meta_description": null,
  "meta_image": null,
  "meta_title": null,
  "modified": "2026-02-16 16:52:36.927202",
  "module": "irshad_demo",
  "name": "demo-pagebuilder",
  "page_blocks": [
   {
    "add_background_image": 0,
    "add_border_at_bottom": 1,
    "add_border_at_top": 0,
    "add_bottom_padding": 1,
    "add_container": 1,
    "add_shade": 1,
    "add_top_padding": 1,
    "background_image": null,
    "css_class": null,
    "hide_block": 0,
    "parent": "demo-pagebuilder",
    "parentfield": "page_blocks",
    "parenttype": "Web Page",
    "section_id": null,
    "web_template": "Section with Cards",
    "web_template_values": "{\"title\":\"Pagebuilder\",\"card_size\":\"Medium\",\"card_1_title\":\"Card title1\",\"card_1_content\":\"here are many variations of passages of Lorem Ipsum available, but the majority have suffered alteration in some form, by injected humour, or randomised words which don't look even slightly believable. If you are going to use a passage of Lorem Ipsum, you need to be sure there isn't anything embarrassing hidden in the middle of text. All the Lorem Ipsum generators on the Internet tend to repeat predefined chunks as necessary, making this the first tru\",\"card_1_url\":\"https://www.lipsum.com\",\"card_2_title\":\"Card title2\",\"card_2_content\":\"here are many variations of passages of Lorem Ipsum available, but the majority have suffered alteration in some form, by injected humour, or randomised words which don't look even slightly believable. If you are going to use a passage of Lorem Ipsum, you need to be sure there isn't anything embarrassing hidden in the middle of text. All the Lorem Ipsum generators on the Internet tend to\",\"card_2_url\":\"https://www.lipsum.com/\"}"
   },
   {
    "add_background_image": 0,
    "add_border_at_bottom": 0,
    "add_border_at_top": 1,
    "add_bottom_padding": 1,
    "add_container": 1,
    "add_shade": 1,
    "add_top_padding": 1,
    "background_image": null,
    "css_class": null,
    "hide_block": 0,
    "parent": "demo-pagebuilder",
    "parentfield": "page_blocks",
    "parenttype": "Web Page",
    "section_id": null,
    "web_template": "Section with Features",
    "web_template_values": "{\"title\":\"Featured section\",\"columns\":\"2\",\"features\":[{\"idx\":1,\"__islocal\":true,\"title\":\"Maintinable\",\"name\":\"g7d0bkme\",\"content\":\"The standard chunk of Lorem Ipsum used since the 1500s is reproduced below for those interested. Sections 1.10.32 and 1.10.33 from \\\"de Finibus Bonorum et Malorum\\\" by Cicero are also reproduced in their exact original form\"},{\"idx\":2,\"__islocal\":true,\"title\":\"Easy to use\",\"content\":\"The standard chunk of Lorem Ipsum used since the 1500s is reproduced below for those interested. Sections 1.10.32 and 1.10.33 from \\\"de Finibus Bonorum et Malorum\\\" by Cicero are also reproduced in their exact original form\",\"name\":\"plsy1gon\"}]}"
   },
   {
    "add_background_image": 0,
    "add_border_at_bottom": 0,
    "add_border_at_top": 0,
    "add_bottom_padding": 1,
    "add_container": 1,
    "add_shade": 0,
    "add_top_padding": 1,
    "background_image": null,
    "css_class": null,
    "hide_block": 0,
    "parent": "demo-pagebuilder",
    "parentfield": "page_blocks",
    "parenttype": "Web Page",
    "section_id": null,
    "web_template": "Section with Testimonials",
    "web_template_values": "{\"title\":\"Best ERP webpage\",\"subtitle\":\"webpage\",\"columns\":\"3\",\"testimonials\":[{\"idx\":1,\"__islocal\":true,\"content\":\"Good ERPNext\",\"full_name\":\"David\",\"name\":\"5l8zhyos\"},{\"idx\":2,\"__islocal\":true,\"content\":\"Frappe ERPNext\",\"full_name\":\"Steve\",\"name\":\"7b49v72s\"},{\"idx\":3,\"__islocal\":true,\"content\":\"Testimonials\",\"full_name\":\"Kaleel\",\"name\":\"kt80czfk\"}]}"
   },
   {
    "add_background_image": 0,
    "add_border_at_bottom": 0,
    "add_border_at_top": 0,
    "add_bottom_padding": 1,
    "add_container": 1,
    "add_shade": 0,
    "add_top_padding": 1,
    "background_image": null,
    "css_class": null,
    "hide_block": 0,
    "parent": "demo-pagebuilder",
    "parentfield": "page_blocks",
    "parenttype": "Web Page",
    "section_id": null,
    "web_template": "Full Width Image",
    "web_template_values": "{\"url\":\"/files/xUTzUOd.png\",\"description\":\"Frappe ERPNext Webpage\"}"
   }
  ],
  "published": 1,
  "route": "pagebuilder",
  "show_sidebar": 0,
  "show_title": 0,
  "slideshow": null,
  "start_date": null,
  "text_align": "Left",
  "title": "Demo Pagebuilder",
  "website_sidebar": null
 },
 {
  "breadcrumbs": null,
  "content_type": "HTML",
  "context_script": null,
  "css": null,
  "docstatus": 0,
  "doctype": "Web Page",
  "dynamic_route": 0,
  "dynamic_template": 0,
  "enable_comments": 0,
  "end_date": null,
  "full_width": 1,
  "header": null,
  "insert_style": 0,
  "javascript": "// This is used to avoid csrf token error\nfrappe.csrf_token = document.getElementById('csrf_token').value;\n$.ajaxSetup({ headers: { 'X-Frappe-CSRF-Token': frappe.csrf_token } });\n\nif(frappe.realtime){\n    frappe.realtime.init()\n}\n\nfrappe.realtime.on(\"new_kitchen_order\", function(data){\n    appendOrderCard(data)\n})\n\nfunction appendOrderCard(order){\n    const kitchen = document.getElementById(`order-${order.status.toLowerCase()}`)\n    if(kitchen){\n        kitchen.innerHTML += cardTemplate(order)\n    }\n}\n\n// template for each orders\nconst cardTemplate = (order) => `\n    <div class=\"order-card\" onclick=\"openPopup('${order.name}', '${order.status}')\">\n      <b>#${order.name}</b><br>\n        <small>${order.pos_invoice || ''}</small>\n    </div>\n`;\n\nfunction renderOrders(orders) {\n    const columns = ['Received', 'Preparing', 'Ready'];\n\n    columns.forEach(status => {\n        const filtered = orders.filter(o => o.status === status);\n        const container = document.getElementById(`order-${status.toLowerCase()}`);\n        \n        if (container) {\n            container.innerHTML = filtered.map(cardTemplate).join(\"\");\n        }\n    });\n}\n\n// fetching data from kitchen-order lists\nfunction refresh() {\n    frappe.call({\n        method: \"frappe.client.get_list\",\n        args: {\n            doctype: \"Kitchen Order\",\n            fields: [\"name\", \"status\", \"pos_invoice\"],\n            filters: { status: [\"not in\", [\"Served\"]] }\n        },\n        callback: (res) => renderOrders(res.message || [])\n    });\n}\n\n// when clicks then list open popum\nfunction openPopup(id, status) {\n    \n    const modal = document.getElementById('modal-container');\n    document.getElementById('order-id').innerText = `Order #${id}`;\n    document.getElementById('order-status').innerText = status;\n    modal.style.display = 'flex';\n\n    document.getElementById('btn-next').onclick = () => {\n        \n        const stages = ['Received', 'Preparing', 'Ready', 'Served'];\n        const nextStatus = stages[stages.indexOf(status) + 1];\n\n        frappe.call({\n            method: \"frappe.client.set_value\",\n            args: { \n                doctype: \"Kitchen Order\", \n                name: id, \n                fieldname: \"status\", \n                value: nextStatus \n            },\n            callback: () => {\n                closeModal();\n                refresh();\n            }\n        });\n    };\n}\n\n\nconst closeModal = () => {\n    document.getElementById('modal-container').style.display = 'none';\n};\n\n\nrefresh();",
  "main_section": null,
  "main_section_html": "<!--This line is used to avoid csrf token error-->\n<input type=\"hidden\" id=\"csrf_token\" value=\"{{ frappe.session.csrf_token }}\">\n\n<style>\n    .main {\n        display: flex;\n        gap: 15px;\n        padding: 20px;\n        background: white;\n    }\n\n    .order-column {\n        flex: 1;\n        background: white;\n        border-radius: 8px;\n        min-height: 500px;\n    }\n\n    .header {\n        padding: 12px;\n        font-weight: bold;\n        text-align: center;\n        border-radius: 5px;\n        color: white;\n    }\n\n    /* color for order status  */\n    .received {\n        background: blue;\n    }\n\n    .preparing {\n        background: palegoldenrod;\n        color: #333;\n    }\n\n    .ready {\n        background: greenyellow;\n    }\n\n\n    .order-card {\n        background: white;\n        margin: 10px;\n        padding: 15px;\n        border-radius: 5px;\n        cursor: pointer;\n        box-shadow: 0 2px 4px;\n    }\n\n\n    .order-modal {\n        position: fixed;\n        inset: 0;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        z-index: 1000;\n    }\n\n    .modal-card {\n        background: white;\n        padding: 25px;\n        border-radius: 10px;\n        width: 300px;\n        text-align: center;\n        box-shadow: 0 2px 4px;\n    }\n\n    .content {\n        padding: 10px;\n        min-height: 400px;\n    }\n\n    .modal-actions {\n        display: flex;\n        gap: 10px;\n        margin-top: 15px;\n    }\n\n    /* for button */\n    .next-btn {\n        background: blue;\n        color: white;\n        border: none;\n        padding: 10px;\n        flex: 1;\n        border-radius: 4px;\n        cursor: pointer;\n    }\n\n    .close-btn {\n        background: palegoldenrod;\n        border: none;\n        padding: 10px;\n        flex: 1;\n        border-radius: 4px;\n        cursor: pointer;\n    }\n</style>\n\n<div class=\"container\">\n    <div class=\"main\">\n        <div class=\"order-column\">\n            <div class=\"header received\">RECEIVED</div>\n            <div id=\"order-received\" class=\"content\"></div>\n        </div>\n\n        <div class=\"order-column\">\n            <div class=\"header preparing\">PREPARING</div>\n            <div id=\"order-preparing\" class=\"content\"></div>\n        </div>\n\n        <div class=\"order-column\">\n            <div class=\"header ready\">READY</div>\n            <div id=\"order-ready\" class=\"content\"></div>\n        </div>\n    </div>\n</div>\n\n<div id=\"modal-container\" class=\"order-modal\" style=\"display:none;\">\n    <div class=\"modal-card\">\n        <h3 id=\"order-id\">Order Details</h3>\n        <hr>\n        <p>Status <span id=\"order-status\"></span></p>\n        <div class=\"modal-actions\">\n            <button class=\"close-btn\" onclick=\"closeModal()\">Close</button>\n            <button id=\"btn-next\" class=\"next-btn\">Move to Next Stage</button>\n        </div>\n    </div>\n</div>",
  "main_section_md": null,
  "meta_description": null,
  "meta_image": null,
  "meta_title": null,
  "modified": "2026-02-21 06:34:02.694673",
  "module": "irshad_demo",
  "name": "kitchen",
  "page_blocks": [],
  "published": 1,
  "route": "kitchen-order",
  "show_sidebar": 0,
  "show_title": 0,
  "slideshow": null,
  "start_date": null,
  "text_align": "Left",
  "title": "Kitchen Order",
  "website_sidebar": null
 },
 {
  "breadcrumbs": null,
  "content_type": "HTML",
  "context_script": null,
  "css": null,
  "docstatus": 0,
  "doctype": "Web Page",
  "dynamic_route": 0,
  "dynamic_template": 0,
  "enable_comments": 0,
  "end_date": null,
  "full_width": 1,
  "header": null,
  "insert_style": 0,
  "javascript": "if (frappe.realtime) {\n    frappe.realtime.init();\n}\n\n// this is used to automatically fetch new listed orders using socket.io\nfrappe.realtime.on(\"new_kitchen_order\", function(data){\n    appendOrderCard(data)\n})\n\nfunction appendOrderCard(order){\n    const container = document.getElementById(`order-${order.status.toLowerCase()}`)\n    if(container){\n        container.innerHTML += cardTemplate(order)\n    }\n    \n    const count = document.getElementById(`count-${order.status.toLowerCase()}`)\n    if(count){\n        count.innerText = parseInt(count.innerText || 0)+1\n    }\n}\n\n// This is used to avoid csrf token error\nfrappe.csrf_token = document.getElementById('csrf_token').value;\n$.ajaxSetup({ headers: { 'X-Frappe-CSRF-Token': frappe.csrf_token } });\n\n\nfunction refresh(){\n    frappe.call({\n        method: \"frappe.client.get_list\",\n        args: {\n            doctype: \"Kitchen Order\",\n            fields: [\"name\", \"status\", \"kitchen_pos_invoice\"],\n            filters: { status: [\"not in\", [\"Supplied\"]] }\n        },\n        callback: (res) => getOrder(res.message || [])\n    })\n}\n\nfunction getOrder(orders){\n    const stages = [\"Received\", \"Collected\", \"Ready\"];\n    \n    stages.forEach(status => {\n        const filtered = orders.filter(o => o.status === status)\n        const length = filtered.length\n        const count = document.getElementById(`count-${status.toLowerCase()}`)\n        if(count){\n            count.innerText = length;\n        }\n        \n        const container = document.getElementById(`order-${status.toLowerCase()}`)\n        if(container){\n            container.innerHTML = filtered.map(item => cardTemplate(item)).join(\"\")\n        }\n    })\n}\n\nconst cardTemplate = (order) =>`\n<div class=\"order-card\" onClick=\"openModal('${order.name}','${order.status}','${order.kitchen_pos_invoice}')\">\n <b> ${order.name} </b> <br>\n <small> ${order.kitchen_pos_invoice} </small>\n </div>\n `;\n \n function openModal(name, status, invoice){\n    const modal = document.getElementById('modal-container')\n    document.getElementById('order-id').innerText = `Order ${name}`\n    document.getElementById('order-status').innerText = status\n    \n    modal.style.display = 'flex';\n    \n    // This call is used to get the items of the order\n    frappe.call({\n        method: \"frappe.client.get\",\n        args:{\n            doctype: \"POS Invoice\",\n            name: invoice\n        },\n        callback: function(res){\n            displayItems(res.message.items || [])\n        }\n    })\n    \n    document.getElementById('btn-next').onclick = () => {\n        const stages = [\"Received\", \"Collected\", \"Ready\", \"Supplied\"]\n        const nextStatus = stages[stages.indexOf(status) + 1]\n        \n        frappe.call({\n            method: \"frappe.client.set_value\",\n            args:{\n                doctype: \"Kitchen Order\",\n                name: name,\n                fieldname: \"status\",\n                value: nextStatus\n            },\n            callback: () =>{ \n                closeModal();\n                refresh();\n            }\n        })\n    }\n }\n \n function displayItems(items){\n     const container = document.getElementById(\"order-items\")\n     if(container){\n         container.innerHTML = items.map(item => `\n         <div class=\"item-row\">\n         <b>Item:</b> ${item.item_name} - <b>Qty:</b> ${item.qty}\n         </div>\n         `).join(\"\")\n     }\n }\n \nconst closeModal = () => {\n    document.getElementById('modal-container').style.display = \"none\";\n}\n\nrefresh()",
  "main_section": null,
  "main_section_html": "<!--This line is used to avoid csrf token error-->\n<input type=\"hidden\" id=\"csrf_token\" value=\"{{ frappe.session.csrf_token }}\">\n\n<style>\nhtml,body{\n    height: 100%;\n    margin: 0 ;\n}\nbody {\n    background: #0f172a;\n    min-height:100vh;\n    display: flex;\n    flex-direction: column;\n    margin: 0;\n    font-family: Arial, sans-serif;\n}\n.navbar,\n.navbar-default,\n.footer,\n.web-footer,\n.page-footer {\n    display: none !important;\n}\n\n.container {\n    flex: 1;\n    padding: 20px;\n}\n\n.header {\n    text-align: center;\n    margin-bottom: 25px;\n}\n\n.title {\n    font-size: 28px;\n    font-weight: 600;\n    color: #38bdf8;\n}\n\n.main {\n    display: flex;\n    gap: 20px;\n    justify-content: center;\n    height: calc(100vh - 120px);\n}\n\n.section {\n    width: 32%;\n    background: #1e293b;\n    border-radius: 12px;\n    padding: 15px;\n    box-shadow: 0 8px 20px rgba(0,0,0,0.4);\n    overflow-y: auto;\n}\n\n.heading {\n    font-size: 16px;\n    font-weight: 600;\n    padding: 10px;\n    border-radius: 8px;\n    text-align: center;\n    margin-bottom: 15px;\n    color: white;\n}\n\n.received {\n    background: linear-gradient(135deg, #2563eb, #1d4ed8);\n}\n\n.collected {\n    background: linear-gradient(135deg, #f59e0b, #d97706);\n}\n\n.ready {\n    background: linear-gradient(135deg, #16a34a, #15803d);\n}\n\n.order-card {\n    background: #334155;\n    color: #f1f5f9;\n    padding: 12px;\n    border-radius: 10px;\n    margin-bottom: 10px;\n    cursor: pointer;\n    transition: 0.2s;\n}\n\n.order-card:hover {\n    background: #475569;\n    transform: translateY(-3px);\n}\n\n.order-count {\n    background: white;\n    color: #0f172a;\n    border-radius: 50%;\n    padding: 2px 8px;\n    font-size: 12px;\n    margin-left: 6px;\n}\n\n\n.order-modal {\n    position: fixed;\n    inset: 0;\n    background: rgba(0,0,0,0.7);\n    display: flex;\n    justify-content: center;\n    align-items: center;\n}\n\n.modal-card {\n    background: #1e293b;\n    padding: 25px;\n    border-radius: 12px;\n    width: 450px;\n    color: white;\n}\n.modal-card h3 {\n    color: white;\n}\n\n.modal-actions {\n    display: flex;\n    gap: 10px;\n    margin-top: 20px;\n}\n\n.next-btn {\n    background: #16a34a;\n    color: white;\n    border: none;\n    padding: 10px;\n    border-radius: 8px;\n    cursor: pointer;\n    flex: 1;\n}\n\n.close-btn {\n    background: #ef4444;\n    color: white;\n    border: none;\n    padding: 10px;\n    border-radius: 8px;\n    cursor: pointer;\n    flex: 1;\n}\n</style>\n\n<div class=\"container\">\n        <div class=\"header\">\n            <h1 class=\"title\">KITCHEN-ORDER POS</h1>\n        </div>\n    <div class=\"main\">\n        <div class=\"section\">\n            <h3 class=\"heading received\">Received Orders <span id=\"count-received\" class=\"order-count\">0</span></h3>\n            <div id='order-received'></div>\n        </div> \n         <div class=\"section\">\n            <h3 class=\"heading collected\">Collected Orders <span id=\"count-collected\" class=\"order-count\">0</span></h3>\n            <div id='order-collected'></div>\n        </div> \n         <div class=\"section\">\n            <h3 class=\"heading ready\">Ready Orders <span id=\"count-ready\" class=\"order-count\">0</span></h3>\n            <div id='order-ready'></div>\n        </div> \n    </div>\n</div>\n<div id=\"modal-container\" class=\"order-modal\" style=\"display:none;\">\n    <div class=\"modal-card\">\n        <h3 id=\"order-id\">Order Details</h3>\n        <hr>\n        <p>Status <span id=\"order-status\"></span></p>\n        <div id=\"order-items\">Order Items</div>\n        <div class=\"modal-actions\">\n            <button class=\"close-btn\" onclick=\"closeModal()\">Close</button>\n            <button id=\"btn-next\" class=\"next-btn\">Move to Next Stage</button>\n        </div>\n    </div>\n</div>",
  "main_section_md": null,
  "meta_description": null,
  "meta_image": null,
  "meta_title": null,
  "modified": "2026-02-24 06:07:05.117570",
  "module": "irshad_demo",
  "name": "pharmacy-order",
  "page_blocks": [],
  "published": 1,
  "route": "kitchenOrder",
  "show_sidebar": 0,
  "show_title": 0,
  "slideshow": null,
  "start_date": null,
  "text_align": "Left",
  "title": "Kitchen Order",
  "website_sidebar": null
 },
 {
  "breadcrumbs": null,
  "content_type": "HTML",
  "context_script": null,
  "css": null,
  "docstatus": 0,
  "doctype": "Web Page",
  "dynamic_route": 0,
  "dynamic_template": 0,
  "enable_comments": 0,
  "end_date": null,
  "full_width": 1,
  "header": null,
  "insert_style": 0,
  "javascript": "frappe.csrf_token = document.getElementById('csrf_token').value;\n$.ajaxSetup({ headers: { 'X-Frappe-CSRF-Token': frappe.csrf_token } });\n\nfrappe.call({\n    method: \"irshad_demo.api.print_hello\",\n    callback: function(r) {\n        document.getElementById(\"1\").innerText = r.message;\n    }\n})\n\nfrappe.call({\n    method: \"irshad_demo.api.greet\",\n    args: { name: \"Abdullah\"},\n    callback: function(r) {\n        document.getElementById(\"2\").innerText = r.message;\n    }\n})\n\nfrappe.call({\n    method: \"irshad_demo.api.get_kitchen_orders\",\n    callback: function(r){\n        let data = r.message\n        \n        data.forEach(order => {\n        document.getElementById(\"3\").innerHTML += `<b>Order: ${order.name}</b><br> \n        <b>Status: ${order.status}</b><br>\n        <b>Customer: ${order.customer}</b>\n        <hr>`\n        });\n    }\n})\n\nfrappe.call({\n    method: \"irshad_demo.api.add_description\",\n    args: { title: \" Added for description\" },\n    callback: function(r) {\n        alert(r.message)\n    }\n})\n\nfrappe.call({\n    method: \"irshad_demo.api.update_pharmacy_order_status\",\n    args: { name: \"POPOS-0001\", new_status: \"Received\" },\n    callback: function(r){\n        alert(r.message)\n    }\n})",
  "main_section": null,
  "main_section_html": "<input type=\"hidden\" id=\"csrf_token\" value=\"{{ frappe.session.csrf_token }}\">\n\n<style>\n    .msg{\n    background: black;\n    color: white;\n    box-shadow: 8px;\n    border: 2px black;\n    }\n</style>\n\n<h1>APi call Demo</h1>\n<div class=\"msg\" id=\"1\">Message is</div>\n<div class=\"msg\" id=\"2\">Message With Name</div>\n<div class=\"msg\" id=\"3\">Below Kitchen Order lists are</div>",
  "main_section_md": null,
  "meta_description": null,
  "meta_image": null,
  "meta_title": null,
  "modified": "2026-02-20 11:19:07.176877",
  "module": "irshad_demo",
  "name": "api-call",
  "page_blocks": [],
  "published": 1,
  "route": "api-call",
  "show_sidebar": 0,
  "show_title": 0,
  "slideshow": null,
  "start_date": null,
  "text_align": "Left",
  "title": "API Call",
  "website_sidebar": null
 }
]